<h2 class="pt-3">{{ vm.titulo }}: <strong>{{ vm.libro.titulo }}</strong> - <i>{{ vm.libro.autor }}</i> ({{ vm.paginas.length }} páginas)</h2>
<hr>

<div class="alert alert-info alert-dismissible fade show" role="alert" ng-if="vm.mensaje">
  <strong>Atención:</strong> {{ vm.mensaje }}
  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
  <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="row">    
    <div class="col">
        <div class="row">
            <p class="border p-5 w-100 text-center">
                {{ vm.pagina.texto }}
            </p>
        </div>
        <div class="row p-2 d-flex justify-content-center">
            <i class="fas fa-minus-square fa-2x pr-2" ng-click="vm.cambiarPagina(false)"></i>
            <input type="number" ng-model="vm.pagina.id" class="w-25 text-center">
            <i class="fas fa-plus-square fa-2x pl-2" ng-click="vm.cambiarPagina(true)"></i>

        </div>
        <div class="row input-group d-flex align-items-center p-2">
          <label for="saltar" class="pr-2">Saltar a la página:</label>
          <input type="number" class="form-control w-25" id="saltar" placeholder="1" min="1" ng-model="vm.saltarPagina">
          <div class="input-group-append">
            <button class="btn btn-outline-info" type="button" ng-click="vm.cambiarPaginaNumero()">Saltar</button>
          </div>
        </div>
        <div class="row p-2 d-flex justify-content-center">
          <button class="btn btn-outline-info btn-lg p-2 mt-2 btn-block" type="button"
              ng-click="vm.eliminarPagina(vm.pagina)">Borrar la página actual</button>
          <br>
          <button class="btn btn-outline-info btn-lg p-2 mt-2 btn-block" type="button"
              ng-click="mostrarNuevo=true; mostrarEditar=false;">Añadir nueva página al libro</button>
          <br>
          <button class="btn btn-outline-info btn-lg p-2 mt-2 btn-block" type="button"
              ng-click="mostrarNuevo=false; mostrarEditar=true;">Modificar información del libro</button>
        </div>
        
    </div> <!-- col 1 -->

    <div class="col">
        <div class="row p-3" ng-if="mostrarNuevo"> <!-- Añadir página al libro -->
          <h4>Añadir nueva página al libro.</h4>
          <form action="" class="w-100" name="form" ng-submit="vm.guardarPagina()" novalidate>
            <textarea class="form-control w-100" placeholder="Introduce el texto de la nueva página." ng-model="vm.nuevaPagina"></textarea>
            <input type="submit" class="btn btn-outline-info btn-lg p-2 mt-2 btn-block" value="Añadir Página">
          </form>
        </div>

        <div class="row p-3" ng-if="mostrarEditar"> <!-- Editar información del libro -->
            <h4>Editar la información del libro.</h4>
            <form action="" class="w-100" name="form" ng-submit="vm.editarLibro()" novalidate>
              <label for="">Id:</label>
              <input type="number" class="form-control" ng-model="vm.copiaLibro.id">
              <label for="">Titulo:</label>
              <input type="text" class="form-control" ng-model="vm.copiaLibro.titulo">
              <label for="">Autor:</label>
              <input type="text" class="form-control" ng-model="vm.copiaLibro.autor">
              <input type="submit" class="btn btn-outline-info btn-lg p-2 mt-2 btn-block" value="Editar Libro">
            </form>
          </div>
    </div> <!-- col 2 -->
</div>